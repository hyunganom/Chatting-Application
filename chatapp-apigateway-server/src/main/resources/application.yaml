server:
  port: 8000
eureka:
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://eureka-server:8761/eureka/

spring:
  application:
    name: apigateway-server
  cloud:
    gateway:
      routes:
        - id: user-service
          uri: lb://user-service  # spring.application.name과 일치
          predicates:
            - Path=/users/**
        - id: chat-service
          uri: lb://chat-service  # spring.application.name과 일치
          predicates:
            - Path=/chatrooms/**
        - id: message-service
          uri: lb://message-service  # spring.application.name과 일치
          predicates:
            - Path=/messages/**
        - id: websocket_service
          uri: http://websocket_service:8084
          predicates:
            - Path=/ws/**
          cors:
            allowedOrigins:
              - "http://localhost:8084"
            allowedMethods:
              - "*"
            allowedHeaders:
              - "*"
            allowCredentials: true

